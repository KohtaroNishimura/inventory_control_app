{% extends "base.html" %}
{% block title %}入出庫編集{% endblock %}

{% block content %}
<div class="container">
    <h1>入出庫編集</h1>

    <form action="/movements/{{ movement.id }}/edit" method="POST">
        <div>
            <label>店舗：</label>
            <select name="store_id" required>
                {% for s in stores %}
                    <option value="{{ s.id }}" {% if s.id == movement.store_id %}selected{% endif %}>
                        {{ s.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label>材料：</label>
            <select name="material_id" required>
                {% for m in materials %}
                    <option value="{{ m.id }}" {% if m.id == movement.material_id %}selected{% endif %}>
                        {{ m.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label>動きの種類：</label>
            <select name="movement_type_id" required>
                {% for mt in movement_types %}
                    <option value="{{ mt.id }}" {% if mt.id == movement.movement_type_id %}selected{% endif %}>
                        {{ mt.name }}
                    </option>
                {% endfor %}
            </select>
        </div>

        <div>
            <label>数量：</label>
            <input type="number" step="0.01" name="quantity" value="{{ movement.quantity }}" required>
        </div>

        <div>
            <label>合計金額：</label>
            <input type="number" step="0.01" name="total_price" value="{{ movement.total_price }}">
        </div>

        <div>
            <label>日時：</label>
            <input type="datetime-local" name="datetime" value="{{ movement.datetime }}">
        </div>

        <div>
            <label>メモ：</label>
            <textarea name="memo" rows="3">{{ movement.memo }}</textarea>
        </div>

        <div class="form-actions">
            <button type="submit">更新する</button>
        </div>
    </form>

    <a href="/movements" class="back-link">入出庫一覧へ戻る</a>
</div>
{% endblock %}
